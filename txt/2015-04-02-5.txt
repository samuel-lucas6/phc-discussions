phc-discussions - Re: [PHC] OMG we have benchmarks

Message-ID: <551CD9BE.4010404@gmail.com>
Date: Thu, 02 Apr 2015 07:55:10 +0200
From: Milan Broz <gmazyland@...il.com>
To: discussions@...sword-hashing.net
Subject: Re: [PHC] OMG we have benchmarks

Hi Bill,

On 04/02/2015 06:35 AM, Bill Cox wrote:
These charts look like Lyra2 is still running with 2 threads, and
Yescrypt is still running with 6 rounds rather than a more comparable
2 rounds.

The code for #if (nPARALLEL 1) for Lyra2 is not compiled in.
This is the patch
https://github.com/mbroz/PHCtest/commit/2e0d07b4a3f7d2dd69a1729c6770c0e39938fdc4

For yescrypt - I did not want to modify code (except for clear segfaults
which prevents test run).

These are pretty pictures, but the benchmarks I ran with a bit more
care showed a very different picture.  I'd hate to see a winner
selected based on nice coloring and one algorithm running 2 threads
vs all the rest with 1, and one algorithms running 6 rounds rather
than 2.

I can convert it to black&white if it helps ;-)

Seriously, I do not want to tweak algorithms myself.
I can add another version but point me to git where is the modification
when author did these changes. But yescrypt was submitted in some form
and I think it should be tested this way.

I added Steve's test because it was a nice idea, if there is a problem,
let's fix it or if it is unfixable (without code modification) abandon
the test completely.

For Lyra2 it was clear bug with compile parameters but I think it is fixed.
If there is another mistake, please let me know.

Thanks,
Milan

