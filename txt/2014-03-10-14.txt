phc-discussions - Re: [PHC] Upgrade HKDF to HKDF2?

Message-ID: <CAOLP8p7K14k6q7NpCxMHmT3dbFqD7eHQaSnwE7r+vq7Rmut11w@mail.gmail.com>
Date: Mon, 10 Mar 2014 10:42:13 -0400
From: Bill Cox <waywardgeek@...il.com>
To: discussions@...sword-hashing.net
Subject: Re: [PHC] Upgrade HKDF to HKDF2?

Thanks for point out the bugs... I meant to compress the data with a
call to the hash function every loop, rather than overwriting the
previous run.  I'd correct the code and repost, but...

On Mon, Mar 10, 2014 at 9:22 AM, Jeremi Gosney <epixoip@...dshell.nlwrote:
...
Anyway, I don't think this problem really worth solving, especially when
the prototype specifies `const void *in, size_t inlen'. I don't see a
real need for any sort of constant time buffer copies.

This seems to be the consensus opinion, and that's what I really
needed to know.  Short of the password padding issues, the other
limitations in HKDF aren't severe enough to warrant any changes,
especially when I'm allowed to call memcpy on the password.

I've cloned the official HKDF reference source code from
https://github.com/massar/rfc6234.git.  Does anyone want to share the
code for adding a Blake2 version to this code base?

Bill

