phc-discussions - Re: [PHC] wider integer multiply on 32-bit x86

Message-ID: <20140304025856.GA6908@openwall.com>
Date: Tue, 4 Mar 2014 06:58:56 +0400
From: Solar Designer <solar@...nwall.com>
To: discussions@...sword-hashing.net
Subject: Re: [PHC] wider integer multiply on 32-bit x86

On Tue, Mar 04, 2014 at 06:36:50AM +0400, Solar Designer wrote:
As to whether we care to be more efficient when actually running on a P3
or older, I'm not sure.  I think this will depend on use case.  For some
use cases (free operating systems supporting legacy machines and
architectures, along with modern ones), even the dependency on _any_
multiply is too much.

I meant dependency on integer multiply being fast.  Of course, it is
always available, even if via a slow microcoded instruction or a kernel
trap or a C compiler's library routine (which the compiler would
substitute a call to).

The question is then: is it worth having special
support for (roughly) P1 through P3, when many of the same use cases
also need support for VAX and such? %-)  I'm not sure.

VAX did have integer multiply instructions.  I just wouldn't expect them
to be on par with simpler instructions, as they almost are on modern CPUs.

Alexander

