phc-discussions - Re: [PHC] Re: [Cryptography] The proper way to hash password files

Message-ID: <CALCETrWmCK-xRjMFtHRg4kSSz3m6N2MDSeOyv7NiJkz5xO1hSQ@mail.gmail.com>
Date: Mon, 26 May 2014 17:59:42 -0700
From: Andy Lutomirski <luto@...capital.net>
To: discussions <discussions@...sword-hashing.net>
Subject: Re: [PHC] Re: [Cryptography] The proper way to hash password files

On Mon, May 26, 2014 at 5:51 PM, Peregrine <peregrinebf@...il.comwrote:
Of course, one can simply use an HMAC construction with any normal password
hashing function. If you have that in a dedicated hardware chip then you may
gain security, otherwise one should assume that any attack capable of
getting the hashed-password database is capable of getting any other secret
data, like private keys. Some of the submissions explicitly support keyed
password hashing, and with others any secure HMAC scheme should work. Using
a strong password hashing scheme with a key protects weak passwords, and
protects strong passwords even if the key is somehow leaked.

I think it's sad that, even on a crypto list, people still talk about
new uses of HMAC (that's a Hash-based Message Authentication Code) for
things that require properties beyond what a MAC provides and do not
require message authentication.

In this particular case, using HMAC-fancy-password-hash is extra
silly, because HMAC invokes the hash *twice*.

I agree that there's some value in using a keyed password hashing
function, and similar benefits can probably be obtained with a simple
composition of a password hash with a keyed PRF or even just a simple
encrypted password hash database.

--Andy

