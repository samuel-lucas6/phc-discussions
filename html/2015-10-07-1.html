<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - Re: [PHC] yescrypt on GPU</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="../../../2015/10/06/18">[&lt;prev]</a> <a href="2">[next&gt;]</a> <a href="../../../2015/10/06/18">[&lt;thread-prev]</a> <a href="2">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;CALWCaoYG7SaY4YP1BECCHcUZRBWj+gX5a_ngOkCts0+QSXVLug&#64;mail.gmail.com&gt;
Date: Wed, 7 Oct 2015 09:29:09 +0200
From: Massimo Del Zotto &lt;massimodz8&#64;...il.com&gt;
To: Solar Designer &lt;solar&#64;...nwall.com&gt;
Cc: discussions&#64;...sword-hashing.net
Subject: Re: [PHC] yescrypt on GPU

I agree.
I have been told on the AMD CL forum (by 'realhet', who appears very
proficient and up to date with GCN ASM) that GCN has no instruction
latencies (i.e. it can consume a result in the instruction immediately
following), probably a nice implication of the instructions being processed
in 4-clock 'ticks'.
This is mildly contrasting with my experience but since I go through the CL
compiler, I'm inclined to believe him/her.

More important things in the immediate.
I am in the process of signing a contract with a local company so I'm
taking a few days off further development until I have their answer.
In the meanwhile, I will try to think at a plan of action for further
testing.

Have a nice day,
Massimo


2015-10-06 22:48 GMT+02:00 Solar Designer &lt;solar&#64;...nwall.com&gt;:

&gt; Massimo,
&gt;
&gt; On Tue, Oct 06, 2015 at 01:27:00PM +0300, Solar Designer wrote:
&gt; &gt; In fact, it doesn't make any sense to waste an entire CU on one hash,
&gt; &gt; yet keep the S-boxes in global memory.  You have 64 KB of local memory
&gt; &gt; per CU, enough for several yescrypt's.  Have you tried keeping the
&gt; &gt; S-boxes in local memory?
&gt; &gt;
&gt; &gt; (For bcrypt, which is in many ways similar to pwxform, but uses 4 KB
&gt; &gt; S-boxes, it is more optimal to keep them in local memory on GCN.)
&gt; &gt;
&gt; &gt; I think you happen to achieve decent performance (compared to other
&gt; &gt; results for yescrypt on GPU) at all because the S-boxes are actually
&gt; &gt; loaded from the same CU's cache.  Well, the cache is 16 KB (and there's
&gt; &gt; also L2) - enough for the 8 KB S-boxes - but you certainly can do better
&gt; &gt; by simply keeping the S-boxes in local memory.
&gt;
&gt; I was wrong in the above - while writing it, I forgot that while you're
&gt; wasting the entire CU on one yescrypt hash in one wavefront, you're
&gt; probably running many wavefronts to hide the global memory and
&gt; instruction latencies.  With this, you might in fact be achieving same
&gt; or better performance than with keeping the S-boxes for a few instances
&gt; in local memory yet incurring the local memory and instruction latencies
&gt; all the time.  Still, I think there's much room for improvement, and we
&gt; need to know performance for S-boxes in local memory to have a baseline.
&gt;
&gt; Alexander
&gt;

<span style="font-family: times;"><strong>Content of type "</strong>text/html<strong>" skipped</strong></span>
</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
