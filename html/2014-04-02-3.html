<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - Re: [PHC] On the topic of attacking designs, not authors</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="2">[&lt;prev]</a> <a href="4">[next&gt;]</a> <a href="1">[&lt;thread-prev]</a> <a href="12">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;20140402023920.4a9bea9b&#64;lambda&gt;
Date: Wed, 2 Apr 2014 02:39:20 +0000
From: Brandon Enright &lt;bmenrigh&#64;...ndonenright.net&gt;
To: discussions&#64;...sword-hashing.net
Cc: waywardgeek&#64;...il.com, bmenrigh&#64;...ndonenright.net
Subject: Re: [PHC] On the topic of attacking designs, not authors

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Tue, 1 Apr 2014 20:44:59 -0400
Bill Cox &lt;waywardgeek&#64;...il.com&gt; wrote:
 
&gt; I didn't skip ahead, but I finally got to OmegaCrypt.
&gt; 
[...]
&gt; 
&gt; I haven't read the whole paper.  It looks to me like it's susceptible
&gt; to cache timing attacks.  You may have mentioned it in your paper, but
&gt; I haven't finished it.

Yeah the data-dependent branching and pseudo-random memory pattern
leaves a distinct fingerprint for every set of parameters to ocrypt.
Care was to make sure all the branching depends only on a stream cipher
so that the cache and timing behavior only leaks information about the
ciphertext output of the stream cipher.  Also, no bits that are used
for a branching decision are used as input into anything that turns
into the final hash output.

&gt; I like the way you padded the variable length
&gt; parameters.  I was doing the same until I found there seemed to be
&gt; little interest in this detail, partly because the block hash
&gt; functions all seem to do some padding for us.
&gt; 
&gt; I haven't read your security section, but your initial key derivation
&gt; seems ... what did that guy call it?  Strongly secure?  You hashed all
&gt; the inputs, including lengths, with no leaks around it.

Many folks have told me how much they don't like data-dependant
branching due to all of the treacherous leaks that come from it.  I
felt like if my proposal is going to use data-dependant branches as the
core feature it can't afford to leak information other places.

Even slide 68 here doesn't like data-dependant branching:
<a href="http://www.openwall.com/presentations/Passwords12-The-Future-Of-Hashing/mgp00068.html">http://www.openwall.com/presentations/Passwords12-The-Future-Of-Hashing/mgp00068.html</a>

Although my design *is* just if/else in a loop I think I've eliminated
"eager execution" as cost-effective strategy through the carry value,
the different amount of ChaCha8 consumed by each branch, and the XOR of
the memory addresses chosen from ChaCha8 so that different branches
won't access the same memory.

I seriously considered building a deep tree however in keeping with the
"simple" theme I decided against it.

I have some ideas for how to improve what gets executed in each one of
the data-dependent branches but I don't want to make changes in that
area until I've heard from the community.

&gt; I think my code will run faster per thread (a dumb benchmark I'm
&gt; tracking).

I'm not sure what you mean by "faster" but ocrypt is designed to be
very unfriendly to just about everything.

In my view, if two implementations both produce quality output securely
in the same amount of time then it doesn't matter if one implementation
did twice as many computations as another.

I haven't actually tested it but, but I think ocrypt is memory-latency
limited and probably does fewer actual instructions-per-second than
most other candidates.

&gt; Solar Designer kept bugging me to improve it, so I did,
&gt; but my earlier code was more similar to this.  I think I may have just
&gt; spent more days on it... I started with a simpler PHS like this, but
&gt; then added features until I'd probably added too many.

ocrypt uses both cubehash and chacha8 as "primitives" so in terms of
simplicity it's already a bit disadvantaged.
 
[...]
&gt; So, pretty sweet entry overall, in my still somewhat ignorant opinion.
&gt;  I don't see any glaring goobers in a quick read.

I've already found a couple typos in the paper and I need to improve
the formatting so it's easier to follow the detailed specification.
I'll submit a slightly fixed up paper in a few days.

Thanks for the quick once-over analysis.

Brandon



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (GNU/Linux)

iEYEARECAAYFAlM7eGQACgkQqaGPzAsl94JeNACgmjNIxdsMY3O2AMW+0WBZcg8Q
lKAAn0IWgxRWltxWi/zlpTuN5NrvsuN1
=Y4m2
-----END PGP SIGNATURE-----
</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
