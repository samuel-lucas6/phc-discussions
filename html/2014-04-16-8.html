<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - Re: [PHC] Re: Lyra2 initial review</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="7">[&lt;prev]</a> <a href="9">[next&gt;]</a> <a href="6">[&lt;thread-prev]</a> <a href="11">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;534F0968.3090806&#64;larc.usp.br&gt;
Date: Wed, 16 Apr 2014 19:51:20 -0300
From: Marcos Simplicio &lt;mjunior&#64;...c.usp.br&gt;
To: discussions&#64;...sword-hashing.net
Subject: Re: [PHC] Re: Lyra2 initial review

Hi, Bill.

I will come back to your previous e-mail soon, but for now I will focus
on this one, which is simpler (seriously, I have received much less
detailed/relevant reviews on academic papers after 3 months... we need
more reviewers as fast as you in academia ;-) )



On 16-Apr-14 17:54, Bill Cox wrote:
&gt; On Wed, Apr 16, 2014 at 2:32 PM, Bill Cox &lt;waywardgeek&#64;...il.com&gt; wrote:
&gt; 
&gt;&gt; 1.47GiB/s of memory hashing (.57GiB/.39s) peak
&gt;&gt; 1.10GiB/s average
&gt;&gt; 4.41 GiB/s DRAM bandwidth
&gt;&gt;
&gt;&gt;
&gt; I made a mistake on the memory bandwidth computation.  I forgot to add in
&gt; the 2 reads and 2 writes on average per location in the wandering phase.  I
&gt; should have multiplied by 7 instead of 3!  The fixed numbers are:
&gt; 
&gt; 1.47GiB/s of memory hashing (.57GiB/.39s) peak
&gt; 1.10GiB/s average
&gt; 10.3 GiB/s DRAM bandwidth
&gt; 
&gt; That bandwidth is close to maxed out for one thread on my machine.  12GiB/s
&gt; seems to be about the limit (EARWORM maxes out at 12GiB/s, with a far
&gt; simpler inner loop).  I suspect the code is more memory bandwidth limited
&gt; than CPU limited.  To test this, I commented out the XOR onto the row
&gt; indexed by 'rowa'.  The runtime dropped from 3.9s to about 3.05.  This is
&gt; another indication that the code is mostly bandwidth limited.  It's also
&gt; another reason for me to dislike the XOR-ing onto rowa.  With a slightly
&gt; more complex setup phase loop, it could have good cache timing resistance
&gt; without the XORs, and run 25% faster, increasing memory*time cost to
&gt; attackers for a given runtime by the same 25%.
&gt; 
&gt; Bill
&gt; 

Slight modifications to the Setup phase may be one of our future tweaks,
but we are not planning on changing the Wandering phase: the only reason
why we get a m_cost^{2*t_cost} (or, using our notation, R^{2*T}) factor
on our TMTO analysis is because of the writes in it... Without them, we
could only get a m_cost^{t_cost} factor as in the original version of Lyra.

Hence, at least for the Wandering phase, I believe this is not a very
good trade-off. Actually, we considered in the document writing on
*more* rows (with the "delta" parameter on section 6.3), but as you may
have guessed, the consequent slow-downs did not pay up, so delta = 1
(i.e., a single random row being read and written, as of today) seems to
be the best alternative when trading bandwidth limitation for TMTO.

That being said, removing the writes on the Setup phase may pay up, but
I just made some tests similar to yours (suppressing the XORs) and got a
speed-up of approximately 10-15% for the Setup phase only (with ~1.5GB
memory usage). The question that remains is whether or not this gain is
worthy given that it will be diluted as t_cost increases. Also, the XORs
help overwriting the data in the matrix and hide correlations between
cells processed with the reduced-round sponge, so the algorithm would
lose this (useful?) feature.

All in all, we will keep the bandwidth issue in mind, but maybe that
will end up being one of the algorithm's weaknesses...

Marcos.

---
This email is free from viruses and malware because avast! Antivirus protection is active.
<a href="http://www.avast.com" rel="nofollow">http://www.avast.com</a>

</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
