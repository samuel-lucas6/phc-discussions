<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - Re: [PHC] on timing attacks</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="../../../2014/04/28/3">[&lt;prev]</a> <a href="../../../2014/05/01/1">[next&gt;]</a> <a href="../../../2014/04/28/3">[&lt;thread-prev]</a> <a href="../../../2014/05/01/1">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;CAELGc4UmmjaKDN1rKrmi8coNXnJPGxFdUMYpODTaA+rA3ak_Xw&#64;mail.gmail.com&gt;
Date: Tue, 29 Apr 2014 12:05:40 +0800
From: Hongjun Wu &lt;wuhongjun&#64;...il.com&gt;
To: discussions&#64;...sword-hashing.net
Subject: Re: [PHC] on timing attacks

1.  I think that Thomas Pornin explained well that the secret-based
indexing is useful to PHS; and Bill Cox explained well that the hybrid
architecture (combining predictable-memory access and secret-based
indexing) is useful for PHS. Thank you!

POMELO is a conservative design so that even when the cache-timing attack
is successful, POMELO can still perform as a strong PHS.  When I was
designing POMELO, the rationale of using secret-based indexing in POMELO
is to provide strong resistance against the attacks on GPU and dedicated
ASIC/FPGA.  The attacks on GPU can be thwarted with the secret-based
indexing.

2.  Krisztián Pinter mentioned about the secret salt in PHS (I think it is
a good idea).

Personally, I feel that using a secret key in PHS provides a  practical
and strong solution to the password web authentication.   The reason is
that in the current web authentication, password authentication is likely
under the protection of TLS/SSL.  As long as the web server is able to
provide secure public key decryption against hacking (for example, in a
separate hardware decryption chip), we can argue that the web server can
also protect the secret key used in PHS in a similar way.

I think that using a secret key in PHS, and perform the PHS operation
in a hardware chip almost solves perfectly the problem of web
authentication.  Using a MAC (such as HMAC, CMAC) to compress the public
salt, password and the secret key is enough (if we worry that a hacker may
take full control of the chip for a period, then adding some delay to each
PHS session can mitigate the problem).  This solution takes very little
computation and memory, and retrieving the password image file is almost
useless to the hackers (if there is enough entropy in the public salt).  I
wonder whether those large web sites (such facebook) are using this type of
techniques.




On Tue, Apr 29, 2014 at 12:11 AM, Bill Cox &lt;waywardgeek&#64;...il.com&gt; wrote:

&gt; IMO, if there are to be multiple memory-hard winners, this is the issue
&gt; that should separate them.  If we can't agree which form is best (which
&gt; seems to be the case), maybe the judges will have trouble too.  In that
&gt; case, they can probably still agree on winners in each class.
&gt;
&gt; Krisztián Pintér and Thomas Pornin both make good points.  While doing no
&gt; password dependent addressing at all seems like a good thing, it does come
&gt; with two significant costs.  First, a cache-timing resistant algorithms
&gt; have difficulty having strong TMTO resistance until about the 1/4 memory
&gt; usage mark compared to the computation graph size.  To insure the defender
&gt; benefits from this as much as the attacker, the cache-timing resistant
&gt; entries generally recommend that memory be written about 4 times or more.
&gt;  There are some tricks to avoid one of the writes, so this penalty seems to
&gt; be about a 3-4X reduction in possible peak memory usage, and 2X to 3X in
&gt; terms of average memory usage.  When attacking these cache-timing resistant
&gt; algorithms offline, an attacker will gain somewhere from about 2X to 4X in
&gt; guesses per dollar.
&gt;
&gt; Second, predictable memory access can be sped up dramatically in custom
&gt; hardware, including both FPGA and ASIC implementations.  GPUs may be able
&gt; to speed up predictable memory access as well.  Any cache-timing resistant
&gt; algorithm runtime hardened primarily by memory bandwidth will not succeed
&gt; very well on the runtime portion of the runtime*memory cost.  I would want
&gt; to see some other compute time hardening in any cache-timing resistant
&gt; algorithm.  Hopefully this can be considered a "tweak".
&gt;
&gt; Combined, offline attackers get a free-ish memory reduction of something &gt;
&gt; 2X, and he can run that memory full-bore as fast as it's I/O will allow,
&gt; mostly eliminating memory latency delays, so he wont have to use that
&gt; memory for very long per guess.  That's a reduction on both the time and
&gt; memory axis of the time*memory cost.  I am not a fan of that.
&gt;
&gt; On the other hand, Krisztián Pintér is right that timing leaks all sorts
&gt; of information, not just information useful for cracking his password
&gt; faster.  If an attacker has a scope probe on the power rails, most entries
&gt; the competition will leak the password length.  They mostly call memcpy,
&gt; and there's a real risk that an attacker with power rail waveforms can
&gt; detect exactly how many cycles memcpy takes.  Both PBKDF2 implementations
&gt; as well as HKDF call memcpy on the password, so there's no help there.
&gt;
&gt; Even with coarse-grain information such as cache-timing, an attacker may
&gt; gain crucial knowledge.  For example, a drone operator might wait for
&gt; confirmation that a targeted individual has just attempted to log into a
&gt; web account, indicating he is probably at his desk by his computer, before
&gt; launching a missile at him.  Even knowing a person has not logged in for a
&gt; while can be critical information.  For example, did the missile we
&gt; launched last week kill him?  The meta-data gained through a timing leak
&gt; can be more sensitive than the password.
&gt;
&gt; Which PHS architecture is preferable seems to be strongly a matter of
&gt; opinion, and there are good solid entries with all three architectures.
&gt;
&gt; Personally, I prefer the hybrid first, because it has nearly the off-line
&gt; defensive strength of a fully unpredictable addressing schemes, while still
&gt; hampering off-line cache-timing attacks on the password.  It's not an
&gt; obvious choice, and I only came to this decision after thinking about it
&gt; for a couple of weeks, and playing with Catena and some other algorithms.
&gt;  The hybrid system is more complex, which can be death for a crypto-system.
&gt;  The simplicity and security of Bcrypt and similar unpredictable algorithms
&gt; will remain most attractive to some.  Better defense against timing attacks
&gt; seems to draw others to cache-timing resistant algorithms.
&gt;
&gt; This seems almost to be a religious war.  Of course, I'm right and
&gt; everyone else is wrong :-)
&gt;
&gt; Bill
&gt;

<span style="font-family: times;"><strong>Content of type "</strong>text/html<strong>" skipped</strong></span>
</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
