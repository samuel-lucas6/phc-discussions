<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - RE: Deriving multiple keys (was RE: Mechanical tests)</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="10">[&lt;prev]</a> <a href="12">[next&gt;]</a> <a href="10">[&lt;thread-prev]</a> <a href="12">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;5c103c55bfdb409aa2c88ce8f5f5ac3a&#64;BY2PR03MB523.namprd03.prod.outlook.com&gt;
Date: Tue, 8 Apr 2014 22:24:47 +0000
From: Greg Zaverucha &lt;gregz&#64;...rosoft.com&gt;
To: "discussions&#64;...sword-hashing.net" &lt;discussions&#64;...sword-hashing.net&gt;
Subject: RE: Deriving multiple keys (was RE: Mechanical tests)

After catching up on the list traffic I see this was already discussed earlier. Apologies

I second Peter Gutmann's email from Sunday -- we need the winner to be a KDF, not something weaker. 

Greg

-----Original Message-----
From: Greg Zaverucha [mailto:gregz&#64;...rosoft.com] 
Sent: Tuesday, April 8, 2014 3:10 PM
To: discussions&#64;...sword-hashing.net
Subject: [PHC] Deriving multiple keys (was RE: Mechanical tests)

Christian, can you clarify/justify your recommendation?  Its common practice to call a KDF with an input parameter for the required number of output bytes then divide the output into two or more keys.  For instance, you might derive separate encryption authentication keys from a DH secret with one call to the KDF.

One example standard that does this is in Section 7.3 of: 
<a href="http://csrc.nist.gov/publications/nistpubs/800-108/sp800-108.pdf" rel="nofollow">http://csrc.nist.gov/publications/nistpubs/800-108/sp800-108.pdf</a>

Another example is the scrypt encryption utility (<a href="http://www.tarsnap.com/scrypt.html" rel="nofollow">http://www.tarsnap.com/scrypt.html</a>)
Quoting the FORMAT file:
"AES256-CTR is computed with a 256-bit AES key key_enc, and HMAC-SHA256 is computed with a 256-bit key key_hmac, where
  scrypt(password, salt, N, r, p, 64) == [key_enc][key_hmac]"

The reference code for all PHC submissions to accept an output length.  It should be a requirement that any subset of the output bytes be suitable for use as keying material.  Is this not the case?

Greg

-----Original Message-----
From: Christian Forler [mailto:christian.forler&#64;...-weimar.de]
Sent: Monday, April 7, 2014 5:41 AM
To: discussions&#64;...sword-hashing.net
Subject: Re: [PHC] Re: Mechanical tests

On 05.04.2014 19:24, Daniel Franke wrote:
[...]
&gt; The definition of weakly-secure KDF, given in 
&gt; <a href="http://palms.ee.princeton.edu/PALMSopen/yao05design.pdf" rel="nofollow">http://palms.ee.princeton.edu/PALMSopen/yao05design.pdf</a> requires the 
&gt; adversary to distinguish the output of the KDF from uniformly-random 
&gt; output of equal length. In the case where the KDF's output is 1000 
&gt; bits long with each bit carrying 1/10th bit of entropy, the adversary 
&gt; can, with high probability, win this game in a single query just by 
&gt; counting Hamming weight.
&gt; 
&gt; In terms of practical rather than mathematical security, "assuming the
&gt; *full* output is being used" is unreasonable. If a function is sold to 
&gt; me as a KDF, I expect to safely be able to destructure its output in 
&gt; order to derive multiple keys from a single invocation.

I would not recommend to derive multiple keys by splitting up a KDF output. You should either use a KDF which supports the derivation of multiple key from a single password (e.g. Catena-KG. :-)) or use different passwords for each key.

Best regards,
Christian







</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
