<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - Re: [PHC] Specification of a modular crypt format</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="2">[&lt;prev]</a> <a href="4">[next&gt;]</a> <a href="2">[&lt;thread-prev]</a> <a href="4">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;CAGiyFdei91KFndFauxkUAZEX=zaPndzV0JvDFUiAUn0FkG1uNg&#64;mail.gmail.com&gt;
Date: Tue, 22 Sep 2015 19:05:38 +0000
From: Jean-Philippe Aumasson &lt;jeanphilippe.aumasson&#64;...il.com&gt;
To: discussions&#64;...sword-hashing.net
Subject: Re: [PHC] Specification of a modular crypt format

Thanks Alex.

Re ordering: I also meant the fixed order that makes the most sense for the
primitive, rather than lex order. The order should just be well-defined and
unambiguous.

I'd also encourage a non-bloated syntax, since there's no benefit of having
a better human-readable encoding. Also important is the consistency with
the current standard.



On Tue, Sep 22, 2015 at 6:10 PM Solar Designer &lt;solar&#64;...nwall.com&gt; wrote:

&gt; Hi Thomas and all,
&gt;
&gt; On Sun, Sep 13, 2015 at 08:26:50PM +0200, Thomas Pornin wrote:
&gt; &gt; here is my take at specifying a string format for the output of a
&gt; &gt; password hashing function; this aims at supporting password verification
&gt; &gt; in a way compatible, in particular, with the Unix crypt() API and the
&gt; &gt; /etc/shadow files. This is not for use of a function as a KDF. I tried
&gt; &gt; to remain as generic as possible, although of course the primary target
&gt; &gt; is Argon2.
&gt;
&gt; First of all, thank you for working on this!
&gt;
&gt; Then, I'm sorry for being a bit late with my feedback.  Yet maybe better
&gt; late than never, so here goes:
&gt;
&gt; I dislike use of &lt;param&gt;=&lt;value&gt;, as opposed to just listing the values.
&gt;
&gt; I also find it inconsistent that the proposed syntax mixes bloated
&gt; constructions such as long identifier names, use of &lt;param&gt;=&lt;value&gt;, and
&gt; use of decimal with the more compact choice of crypt(3) base64 encoding
&gt; rather than RFC Base64.  I think we should consistently opt for a
&gt; compact or a bloated encoding, and I'd prefer compact, but if you do
&gt; bloated, then do it to the fullest extent (and we'll have a compact
&gt; alternative then).
&gt;
&gt; I do see value in listing of the parameters in a fixed order (and in
&gt; having no defaults and in listing all parameters all the time as well,
&gt; despite of the drawbacks).  However, when that fixed order comes from
&gt; lexicographic order of parameter names it may end up being otherwise
&gt; weird, and inconsistent with what we already have for scrypt.  Given
&gt; that yescrypt builds upon scrypt and supports scrypt compatible mode,
&gt; I'd like to have its parameters common with scrypt listed first and in
&gt; the same order as is commonly used with scrypt.  This is N, r, p, but
&gt; lexicographic order would result in N, p, r.  I find having to introduce
&gt; this inconsistency, if we adopt your proposal as currently specified,
&gt; unfortunate.
&gt;
&gt; It could also be nice to be able to omit yescrypt's additional
&gt; parameters that are not in scrypt - in other words, use this opportunity
&gt; to introduce a syntax for scrypt that would address some limitations of
&gt; what we previously defined for scrypt, without having to list yescrypt's
&gt; parameters.  Well, I guess we can do that within your specification by
&gt; allocating a separate identifier string for scrypt.
&gt;
&gt; The use of crypt(3) base64 could help encode the parameters in a more
&gt; compact way, e.g. use just one char (and no separator before/after it)
&gt; for (ye)scrypt's log2(N).  I find it suboptimal to go for crypt(3)
&gt; base64 yet not take full advantage of it.
&gt;
&gt; Overall, I think this verbose syntax might hamper adoption by some
&gt; projects.  I also think that if we go for a verbose and human and
&gt; scripting friendly syntax for the parameters anyway, we should as well
&gt; bite the bullet of RFC Base64 with its extra padding characters.  Having
&gt; 3 extra characters is negligible compared to the bloat we already have
&gt; in the proposed long identifiers and the encoding of parameters.
&gt; I actually prefer crypt(3) base64, but I dislike the bloat already
&gt; proposed enough that going for RFC Base64 just doesn't make it all that
&gt; much worse for me, while making it better for others.  I'll probably
&gt; come up with an alternative compact encoding anyway, and this one may be
&gt; bloated to the fullest extent then.  OTOH, it's nice to have a common
&gt; encoding type (and common code) between the compact and bloated forms,
&gt; so maybe your choice is right from that point of view.
&gt;
&gt; Also, if we go for a bloated syntax anyway, we probably should use the
&gt; opportunity to allow for encoding of arbitrarily small or large salts,
&gt; and arbitrary hash sizes.  So that e.g. if crypt() is available via
&gt; pgcrypto or something, thus via SQL queries in this example, its support
&gt; for a PHC scheme could then be reused to compute that scheme with
&gt; arbitrary inputs with no artificial restrictions.  e.g. to derive
&gt; multiple keys at once (where 256 bits could be too little).  I don't
&gt; feel about this strongly, but overall I feel that we should either avoid
&gt; bloat or use the potential advantages of the bloat to the fullest,
&gt; whereas the proposed encoding does neither.
&gt;
&gt; Sorry for the criticism.  Again, I appreciate the effort.
&gt;
&gt; Thanks,
&gt;
&gt; Alexander
&gt;

<span style="font-family: times;"><strong>Content of type "</strong>text/html<strong>" skipped</strong></span>
</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
