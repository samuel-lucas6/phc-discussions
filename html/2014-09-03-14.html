<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - Re: [PHC] Re: Tradeoff cryptanalysis of password hashing schemes</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="13">[&lt;prev]</a> <a href="15">[next&gt;]</a> <a href="../../../2014/08/26/2">[&lt;thread-prev]</a> <a href="15">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;CALW8-7J1iNWLOxDbvPqBQS+TBsiTL_gxUT8O65-RytwOUcpijA&#64;mail.gmail.com&gt;
Date: Wed, 3 Sep 2014 16:30:34 +0200
From: Dmitry Khovratovich &lt;khovratovich&#64;...il.com&gt;
To: "discussions&#64;...sword-hashing.net" &lt;discussions&#64;...sword-hashing.net&gt;
Subject: Re: [PHC] Re: Tradeoff cryptanalysis of password hashing schemes

Some more details for the ASIC discussion.

1) An ASIC-equipped adversary will aim to minimize the running costs, which
on the long term will be dominated by the power consumption and cooling.

2) A high-budget adversary will not restrict himself to commercially
available memory chips only, but will definitely consider custom designs.

3) The memory power consumption (roughly) consists of retention power (to
sustain the state) and active energy (to read or write).

4) Regarding active energy, it would be natural to prefer a memory
architecture that consumes 0.0001 J to read 1 Gbit (one of SRAM designs -
[1]) to the one that consumes 0.5J to read 1 Gbit (DDR5).

5) I did not calculate the retention power for DDR5, but to match [1] ( 0.1
W ) it must be around 3% of the maximum power consumption, not speaking of
0.0001 W for the design [2].

6) There are other, low-power DRAM designs, that can be considered here.

7) Large on-chip memory is needed mainly to reduce the latency. However,
for the schemes currently attacked this is not a problem. Catena has
memory-independent addressing, and Lyra2 has huge blocks sequentially
stored in the memory. As a result, off-chip memory with latency up to 10-15
cycles is still suitable for the tradeoff attacks as the latency of the
entire scheme remains pretty much the same.

8) If we consider DRAM-restrictive adversaries, then Lyra2 can be run with
1/2 of memory with no energy penalty: the increase of memory reads from 6
GB to 7.6 GB per password and 20% increase in the running time is
compensated by the 50% memory reduction. It may even be that running Lyra2
with 1/2 of memory takes less energy than with full memory.


On Mon, Aug 25, 2014 at 6:32 PM, Bill Cox &lt;waywardgeek&#64;...hershed.org&gt;
wrote:

&gt; -----BEGIN PGP SIGNED MESSAGE-----
&gt; Hash: SHA1
&gt;
&gt; On 08/25/2014 04:58 AM, Dmitry Khovratovich wrote:
&gt; &gt; As there are questions on this mailing list on how we got our
&gt; &gt; energy &amp; size estimates, here is a short insight.
&gt;
&gt; Thanks for the data.
&gt;
&gt; &gt; A naive (no tradeoff) implementation of a password hashing scheme
&gt; &gt; on ASIC with up to a GByte of RAM would use only a tiny portion of
&gt; &gt; memory at every step. When the memory is not used, it still
&gt; &gt; consumes power to sustain the state values. An energy-efficient
&gt; &gt; adversary would use the memory that minimizes the total energy
&gt; &gt; spent: for reading, writing, activating, etc. There exist low-power
&gt; &gt; static RAM designs, of which the following two are interesting (we
&gt; &gt; used [1]): [1] 850 MHz, 65nm design with retention mode leakage 0.1
&gt; &gt; mW (10^{-4} Watt ) per MBit and active energy (read/write) 0.0001 J
&gt; &gt; (10^-4) per GBit. [2] 333 MHz, 65nm design with retention mode
&gt; &gt; leakage 0.00015 mW (10^{-7} Watt ) per MBit and active energy
&gt; &gt; (read/write) 0.0004 J (10^-3.5) per GBit.
&gt; &gt;
&gt; &gt; 1 GByte of [1] occupies 12,000 mm^2, and of [2] -- 5,000 mm^2. This
&gt; &gt; is certainly larger than the current CPU/GPU chip sizes (500-700
&gt; &gt; mm^2 for recent Intel and nVidia designs), but comparable to
&gt; &gt; largest CMOS sensors (40,000 mm^2 and more) and  certainly smaller
&gt; &gt; than a single wafer. In fact, our own tradeoffs do not explicitly
&gt; &gt; require all the memory being on a single chip, but it should have
&gt; &gt; reasonable latency (&lt;5 cycles).
&gt;
&gt; That's 18 square inches.  No one on will sell you an ASIC with more
&gt; than 1 square inch!  Please update your numbers to reflect the fact
&gt; that you will have to go to off-chip GDDR5 DRAM for a 1GiB hash.
&gt; There is simply no way around it.  Also, Catena is designed for
&gt; on-chip cache sizes of maybe up to 30MiB.  Comparison should be done
&gt; vs an on-chip SRAM cache with zero latency for Catena, since
&gt; predictable addressing allows us to have the data exactly when we need it.
&gt;
&gt; BTW, Intel uses eDRAM (embedded DRAM) in their latest Haswell
&gt; processors.  It is very tricky to integrate eDRAM, but they succeeded,
&gt; and the result is a dramatic power and area reduction.
&gt;
&gt; Here's a recent GDDR5 datasheet:
&gt;
&gt; <a href="http://www.hynix.com/datasheet/pdf/graphics/H5GQ1H24AFR%28Rev1.0%29.pdf" rel="nofollow">http://www.hynix.com/datasheet/pdf/graphics/H5GQ1H24AFR%28Rev1.0%29.pdf</a>
&gt;
&gt; This is a couple years out of date, but it's fairly close to state of
&gt; the art.  This is about the best DRAM you can buy for cracking
&gt; passwords.  Please consider using specs from real DRAM that is
&gt; commercially available, rather than something that is better than what
&gt; companies like Samsung are capable of.
&gt;
&gt; The relevant pages are 128 and 129.  Supply voltage is 1.6V, and the
&gt; IDD4R and IDD4W are the supply current for reading and writing at
&gt; different speeds.  For 6 Gbps, it's     1.89A for writing and 1.82A for
&gt; reading.  At a slower 4 Gbps, it's 1.37A for writing and 1.3A for
&gt; reading.  The power is 2.9W for reading at 6Gbps, vs 2.1W for 4Gbps.
&gt; Clearly the dynamic power loss is larger than the static power loss.
&gt;
&gt; Read latency is shown on page 42.  At 6Gbps, the first data from a new
&gt; 1KiB block will take 19 clock cycles (CAS latency), assuming burst
&gt; mode is enabled (probably a good idea).  It's 1.5GHz, so that's
&gt; 12.6ns.  After that, data streams at 6Gbps per pin, with 32 pins
&gt; (24GiB/s total), so your 1KiB will take another 42.6ns. to transfer.
&gt;
&gt; A reasonable goal would be to have several such GDDR interfaces on
&gt; your ASIC.  It is very hard to do!  However, it is doable, at least in
&gt; theory.  If you had 512 pins all running at 6Gpbs, you'd have 384GiB/s
&gt; bandwidth.  That would probably set a world record for chip bandwidth,
&gt; but it's within a factor of 2X of what has been built before.
&gt;
&gt; Because recomputations increase the total read/writes per hash,you're
&gt; going to most likely *increase* DRAM power with a high TMTO.  The
&gt; lowest power attack is going to be with *no* TMTO.  You're also going
&gt; to max out that bandwidth pretty quick limiting computation speed.
&gt;
&gt; If I read your table right, you do 21 read/writes to do a 1GiB hash.
&gt; I assume these are sequential operations on 1KiB blocks.  That's 2.56M
&gt; sequential external DRAM read/writes, at 55ns each, for 140ms.  You
&gt; simply can't do this in 20ms, as your slide claims.  The DRAM energy
&gt; is 2.9W for 140ms, or about 0.4J.  In your slide you had 0.034J.
&gt; You're off by 10X.  Assuming your AES power calculation is correct,
&gt; then DRAM power dominates.  Using more DRAM with a faster algorithm
&gt; (Argon does 21 sequential read/writes
&gt;
&gt; In comparison, you said Lyra2 would take 80ms to read/write 6GiB.  Why
&gt; would reading/writing 6GiB to external DRAM take longer for Lyra2 than
&gt; reading/writing 21GiB to the same external DRAM for Argon?
&gt;
&gt; Also, when comparing the power for an ASIC to compute a password hash,
&gt; we need to use real memory sizes supported by the algorithm.  In 1
&gt; second, TwoCats can hash about 6GiB on my Ivy Bridge machine.  It is
&gt; heavily memory bandwidth limited.  It writes memory once and reads
&gt; memory once.  A system using TwoCats would hash several times more
&gt; memory in the same time as Argon, and this should be taken into
&gt; account when considering an ASIC attack.  A 1GiB Argon password guess
&gt; likely takes an ASIC 6-ish times longer to do a 6-ish GiB TwoCats
&gt; guess, with multiplication chains turned off.  When enabled,
&gt;
&gt; This power discussion seems very relevant.  Let's get the numbers
&gt; right!  Please correct any incorrect assumptions above.
&gt;
&gt; Bill
&gt; -----BEGIN PGP SIGNATURE-----
&gt; Version: GnuPG v1
&gt;
&gt; iQIcBAEBAgAGBQJT+2U2AAoJEAcQZQdOpZUZuPoP/RJbpUakvFZRxfQu/0r4uxiw
&gt; NmcssnLPJXi/NiaY9+mKxhva2BdKVY3a1LGxytmHIvtvtyIWWkSqZjicMzSI5+TA
&gt; mVqK3nMbSGyyDm0MOB2SFzwqgiOB9sbHLlBBw2hMCQyVXpP0NF3UN6bhrwbLu7mO
&gt; AQd5UA7X8jvYCrXYigs2aAZKC8cBznbeyYFxuEqe9j1XelgFzLIfJtVGrKL07pEO
&gt; hl49o17K/psnNvxrg2JxyUiALPWddrrxlP8oE/9/+2wcZmoqRcd6KD6ATuf+8lUp
&gt; hP7vLpQRcKKGUO0udGzA5IhlPCmKNofVX5yrT0AHkA4+X/wsmkvXZfDuWPwQ8glZ
&gt; X7tKgF1qVmmWQQujlJKhuRlvkDNxDNUj9ciikg/cuTHZCq1ojpGmA/2elrMQTIln
&gt; dfGZRb9ru8OwQd+Ers7NZdgw4nRjzLdlAoITvRs7rOb9z105r2Rs5hchR/zb8dWb
&gt; Qa68SbGiZDR+uGF3sdJFzQ+j8gfz5GLx7lINHDvLY+DlvqEtWjn+NxiXK8qihysE
&gt; JK/gBlXIdvzotxLkipExvbr+s/obcu7JysaICIIsWsJDMXHvUiEHejgoiZODOnBz
&gt; Jgj3PHALOKg2Apfe4yE4Vt7yLzja2Spn8E5m2uCR/xLaiAROJ5mskH18Xvp0tNiX
&gt; jNAyDUPqFZEzisM84IVp
&gt; =fg7Z
&gt; -----END PGP SIGNATURE-----
&gt;



-- 
Best regards,
Dmitry Khovratovich

<span style="font-family: times;"><strong>Content of type "</strong>text/html<strong>" skipped</strong></span>
</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
