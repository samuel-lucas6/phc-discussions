<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - Re: [PHC] Another PHC candidates "mechanical" tests (ROUND2)</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="7">[&lt;prev]</a> <a href="9">[next&gt;]</a> <a href="7">[&lt;thread-prev]</a> <a href="11">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;20150325094015.GA10374&#64;openwall.com&gt;
Date: Wed, 25 Mar 2015 12:40:15 +0300
From: Solar Designer &lt;solar&#64;...nwall.com&gt;
To: discussions&#64;...sword-hashing.net
Subject: Re: [PHC] Another PHC candidates "mechanical" tests (ROUND2)

On Wed, Mar 25, 2015 at 09:48:06AM +0100, Milan Broz wrote:
&gt; On 03/25/2015 05:49 AM, Solar Designer wrote:
&gt; &gt; I think you should include more info on your two test platforms.  Most
&gt; &gt; notably, the specific CPU types and clock rate.
&gt; 
&gt; OK, I am trying to avoid these test to be presented as a performance tests
&gt; because with reference implementations it would be unfair.
&gt; 
&gt; Anyway, there is already lscpu for both platforms in git
&gt; <a href="https://github.com/mbroz/PHCtest/blob/master/output/round2_Lenovo_X230_i5_16G/lscpu" rel="nofollow">https://github.com/mbroz/PHCtest/blob/master/output/round2_Lenovo_X230_i5_16G/lscpu</a>
&gt; 
&gt; <a href="https://github.com/mbroz/PHCtest/blob/master/output/round2_PPC64/lscpu" rel="nofollow">https://github.com/mbroz/PHCtest/blob/master/output/round2_PPC64/lscpu</a>
&gt; (This is quite a big machine, actually running Fedora for some Red Hat
&gt; distro development I have access to)

Thanks!
 
&gt; &gt; The charts showing real memory usage and real time vs. the cost
&gt; &gt; parameter values might be useful, but it would also be useful to see a
&gt; &gt; cross-chart of real memory usage vs. real time (with the lowest time cost
&gt; &gt; setting supported by each scheme) and with growing memory cost setting
&gt; &gt; (this is how you'd control the real time).
&gt; 
&gt; Isn't it what Figure 1 already shows?

No.

&gt; Or you mean some combination?

Yes.

&gt; (tcost is minimal for each candidate there, memory cost is increasing and chart
&gt; shows real memory use + real run time).

Yes, but the x-axis is in different units for different candidates.  I'd
like a chart combining the data for y-axes from these two charts, using
one of these on the new chart's x-axis and the other on y-axis.

&gt; &gt; Lyra2 is surprisingly fast.  That's nice.  Your table does not give
&gt; &gt; exact numbers for candidates meeting your requirements, though - maybe
&gt; &gt; you can add that (for their lowest supported t_cost)?
&gt; 
&gt; For the last KDF test the exact input parameters are in Table 5, times
&gt; are in log directory. For example with the minimal t_cost:
&gt; <a href="https://github.com/mbroz/PHCtest/blob/master/output/round2_Lenovo_X230_i5_16G/m_kdf/lyra2.dat" rel="nofollow">https://github.com/mbroz/PHCtest/blob/master/output/round2_Lenovo_X230_i5_16G/m_kdf/lyra2.dat</a>
&gt; <a href="https://github.com/mbroz/PHCtest/blob/master/output/round2_Lenovo_X230_i5_16G/m_kdf/lyra2-sse.dat" rel="nofollow">https://github.com/mbroz/PHCtest/blob/master/output/round2_Lenovo_X230_i5_16G/m_kdf/lyra2-sse.dat</a>

So it's 515 ms for the SIMD-enabled Lyra2 to reach 1 GB.  Including
memory (de)allocation overhead, right?

&gt; I did not want to modify default internal configurations (and I think it
&gt; should not be even needed. Give users some knobs and they'll find insecure
&gt; combination and will use it as the default... well, joking :-)

This is always a concern, yes.

&gt; Why I do not use multiple threads is based on disk-encryption my use case:
&gt; 
&gt; In general, FDE-enabled disk can be moved between several machines with
&gt; completely different performance and hardware configurations.
&gt; 
&gt; On slow machine unlocking should take more time and it would be
&gt; probably acceptable (in some reasonable limits).
&gt; 
&gt; But if it cannot be unlocked at all (cannot run parallel threads) it is
&gt; unacceptable for the user (usability fail). Security/usability tradeoff...

No, this particular tradeoff does not exist.  You can always run the
would-be-threads sequentially (or switch between them).  e.g. I've been
testing yescrypt with p=41 on a machine with 8 logical CPUs, running
only 8 threads at a time.  In the current submitted yescrypt code,
OpenMP takes care of that.  Or you can simply build without
multi-threading support (neither OpenMP nor anything else) and still be
able to compute a p &gt; 1 derived key, just slower as you say.

The real tradeoff is that excessive parallelism weakens security: the
attacker might need less memory (presumably expensive) per compute core
(presumably cheap).  For this reason, maybe yescrypt's default pwxform
rounds count isn't best for your use case.  It works better for user
authentication where the parallelism comes from concurrent requests
anyway.  There's another reason for the 6 rounds, though - this achieves
bcrypt-like rate of S-box lookups, needed to ensure bcrypt-like GPU
attack resistance.

&gt; The second reason is that it can could run in a very limited environment
&gt; (a bootloader for full system encryption) where threads are not easily manageable.

So you can run a thread-less build.  No problem there.  You just need to
provide the memory...

...Speaking of which: this is where a security/usability tradeoff
actually exists.  If you use e.g. Lyra2 or YESCRYPT_RW and require 1 GB,
you'd have a really hard time computing on a machine with less RAM than
that since we're deliberately discouraging TMTO attacks (and thus
legitimate uses as well).  Classic scrypt and YESCRYPT_WORM solve
this, at the expense of lower area-time product and TMTO-friendliness
for attackers as well.  (I think there is not yet a defender-friendly
implementation of classic scrypt, nor YESCRYPT_WORM, for uses on lower
memory machines.  But it's just a matter of implementation.  This can be
implemented easily when the need arises.)  &lt;plug&gt;I think yescrypt is the
only entry in this competition that retained this flexibility.&lt;/plug&gt;

Unfortunately, the security impact of YESCRYPT_WORM (vs. _RW) is very
significant.  It's almost the same as going back to classic scrypt,
with only minor tweaks added (such as the garbage collector attack
resistance I mentioned earlier today).  (In part, this is deliberate: to
ease implementation of YESCRYPT_WORM by slightly revising existing
implementations of classic scrypt.)

Alexander
</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
