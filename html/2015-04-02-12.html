<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - Re: [PHC] Panel: Please require the finalists to help with benchmarks</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="11">[&lt;prev]</a> <a href="13">[next&gt;]</a> <a href="10">[&lt;thread-prev]</a> <a href="13">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;551D786C.2060101&#64;larc.usp.br&gt;
Date: Thu, 02 Apr 2015 14:12:12 -0300
From: Marcos Simplicio &lt;mjunior&#64;...c.usp.br&gt;
To: discussions&#64;...sword-hashing.net
Subject: Re: [PHC] Panel: Please require the finalists to help with benchmarks

Some inputs inline.

On 02-Apr-15 13:20, Bill Cox wrote:
&gt; How this should be done is obviously up to the panel, but here's my
&gt; thoughts anyway:
&gt; 
&gt; Milan has the most complete and up to date benchmark suite here:
&gt; 
&gt; <a href="https://github.com/mbroz/PHCtest" rel="nofollow">https://github.com/mbroz/PHCtest</a>
&gt; 
&gt; I think we should ask Milan to document how to run the tests in a README,
&gt; and how to generate tables of results, and then require the finalists to
&gt; verify the code and results.  However, I would prefer that the panel also
&gt; require:
&gt; 
&gt; - Adding a C-linkable benchmarking PHS interface
&gt; - Enhance their code to conform to this interface
&gt; - Provide parameters to this interface for each “official” benchmark
&gt; 
&gt; I think all the authors should be required to fork Milan's github repo and
&gt; submit pull requests for these enhancements.
&gt; 
&gt; There are several use cases, and they should be run with different
&gt; parameters to show each algorithm in it's best light. Off the top of my
&gt; head, they include for the memory-hard entries:
&gt; 
&gt; - L1 cache bound - 8KiB?
&gt; - L3 cache bound - 4MiB?
&gt; - DRAM bound - 1GiB?
&gt; - Huge hash - 4GiB on multi-core CPU?
&gt; 
&gt; I have never cared for the t_cost parameter.  It's use for TMTO defense is
&gt; clever, but I don't trust users to select this parameter based on any valid
&gt; insights.  Is there any reason to benchmark with t_cost other than the
&gt; defaults recommended by the authors?

Well, I see at least two (both open to debate):

1) Users may want to have a fixed amount of memory while raising the
processing time (that was the original purpose of PBKDF and bcrypt, at
least)

2) Since t_cost is a user-defined parameter, anyone can configure it to
a lower or higher level. You may certainly say "but that will not comply
with what the author's paranoia level believe to be right", but when we
were discussing what to do with the winner(s), one comment was to "have
as few open knobs as possible while adopting conservative security
parameters", so the "correct" minimum t_cost is something that needs to
be defined too. Well, that unless we are able to say that two schemes
are just as resistant to attacks (TMTO, cache-timing, garbage-colletion,
GPUs, ASICs, etc.) with a different number of passes though memory...

&gt; 
&gt; We should separately benchmark 1 – N threads, where N is the number of
&gt; cores on the machine doing the benchmark.
&gt; 
&gt; There are also target platforms:
&gt; 
&gt; - AMD 32/64 bit
&gt; - Intel 32/64 bit
&gt; - ARM (Raspberry Pi?)

Someone in the list also mentioned IoT devices (so 8/16 bit architectures).

BTW, in this scenario it would be hard to have a 32x32-&gt;64 bit multiplier...

&gt; 
&gt; GPU targets would be helpful, but I would not want benchmarks based on the
&gt; authors' own attack code.  It should an independent GPU expert who writes
&gt; the attack code.  Is there any way to get a GPU developer involved for this
&gt; purpose?  It's a ton of work, so some company would probably have to
&gt; support this effort.  Maybe Nvidia could be talked into it?

I may sound naive when I say that, but I think that the "authors' own
attack code" is a good start point, to be later tweaked by the community
of developers/researchers. Independent or not, a single person will
likely not provide "the best" attack code, but at least "a good" attack
code that can be further improved later, and a code having the same
optimization strategies over which other people can work.


&gt; 
&gt; Similarly, we should have an independent ASIC expert involved for a
&gt; realistic analysis for the estimated cost and performance of the various
&gt; proposed attack ASICs.  My own experience is too outdated.  Could we get
&gt; someone from AMD, IBM, or Intel?
&gt; 
&gt; I would like to see three compiled versions for each platform:
&gt; 
&gt; - Reference
&gt; - Optimized, but no SIMD
&gt; - SIMD optimized
&gt; 
&gt; This is mostly already done.  Milan did a great job getting this all to
&gt; work in a unified framework.  I do not think it is worthwhile benchmarking
&gt; “reference” implementations, but it is useful for verification.
&gt; 
&gt; To support all these use cases, I think the benchmarking PHS interface
&gt; should take only:
&gt; 
&gt; - use_case: an enum identifying the plot that this benchmark data goes on
&gt; - m_exp:  The memory hashed should be 2^m_exp in bytes
&gt; - max_cores: the max number of CPU cores the algorithm is allowed to use
&gt; - iterations: the number of times the hash function should be run in a loop
&gt; 
&gt; The authors would be responsible for picking the best parameters for each
&gt; use.  If a use case or memory size is not supported, the function should
&gt; return an error code rather than crash, so that it wont be included in that
&gt; plot.
&gt; 
&gt; The number of iterations parameter could allow algorithms to allocate and
&gt; initialize memory once and reuse it in each iteration.  This can help us
&gt; focus on the difference in algorithm runtimes and reduce noise from
&gt; different memory allocation techniques.  It would be very helpful for
&gt; estimating how well an algorithm performs in the authentication server use
&gt; case, and allow us to more accurately measure the runtime of those L1 cache
&gt; bound hashes.
&gt; 
&gt; Lyra2 would need to be modified to have nPARALLEL as a runtime parameter.
&gt; Yescrypt would have to be modified to make the number of rounds a
&gt; parameter.  IMO, it is not useful to claim that a compile-time parameter is
&gt; a “tunable”.  Most users want to run just one compiled version.  The would
&gt; enforce this.

That is perfectly reasonable: so far I think most schemes were worried
with a "reference code", so further tunning with alternative PHS
interfaces does not seem too difficult except maybe for some inline
functions or macros. Should we do that to all parameters listed in the
pseudocode?

&gt; 
&gt; Benchmark plots:
&gt; 
&gt; We should have plots with axes of runtime and memory used for ranges near
&gt; the selected use case.  I don't think they should be log-log plots – that
&gt; makes the differences to hard to see.  There should be separate plots for
&gt; optimized versions and SIMD versions, and also separate plots for
&gt; single-thread and multi-thread.  This may just be due to my color blindness
&gt; – I do not like charts that have a ton of lines mixing various use cases.
&gt; 
&gt; This is a ton of work for the authors, but it's certainly not fair to ask
&gt; Milan to do it all!  It is also not fair to ask analysts to figure out the
&gt; right parameters for every use case.
&gt; 
&gt; Bill
&gt; 
</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
