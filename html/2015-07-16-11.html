<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - Re: [PHC] Bandwidth hardened algorithms?</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="10">[&lt;prev]</a> <a href="12">[next&gt;]</a> <a href="9">[&lt;thread-prev]</a> <a href="13">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;CAOLP8p7iBPQZ-7iCTcbKDpoZ06zwyNZ1ic+TPJHrBvhEQrw1vQ&#64;mail.gmail.com&gt;
Date: Thu, 16 Jul 2015 14:40:25 -0700
From: Bill Cox &lt;waywardgeek&#64;...il.com&gt;
To: "discussions&#64;...sword-hashing.net" &lt;discussions&#64;...sword-hashing.net&gt;
Subject: Re: [PHC] Bandwidth hardened algorithms?

On Thu, Jul 16, 2015 at 11:59 AM, Dmitry Khovratovich &lt;
khovratovich&#64;...il.com&gt; wrote:

&gt;
&gt; &gt;
&gt; &gt; Disconnected ASICs would lose quite badly, since the CPU miner is
&gt; reading 8 KiB per hash at 20 GiB/s, while a disconnected ASIC must compute
&gt; 2 4-MiB Yescrypt hashes in series.  We chose these computations to be 1 ms
&gt; (by adjusting t_cost) for the CPU defender.  There is no way the ASIC can
&gt; do this more than 10X faster, so each hash will require (1ms + 1ms)/10 =
&gt; 0.2ms.  This is only 5,000 hashes per second.  In comparison, the CPU
&gt; defender fills 20GiB of memory bandwidth reading 8KiB of memory per hash.
&gt; This is over 2.6 million hashes per second.  The CPU defender is over 500X
&gt; faster than the 4MiB ASIC.
&gt; &gt;
&gt; &gt; A more interesting ASIC attack is when we have 8192 ASICs with 4MiB
&gt; networked together.  In this case, each ASIC holds 4 MiB of the ROM data,
&gt; for a total of 32 GiB.  To compute Yescrypt(4KiB_block(i1),
&gt; 4KiB_block(i2)), ASIC_i2 must transmit 4KiB_block(i1) to ASIC_i1.  This is
&gt; only 4KiB transmitted, compared to the CPU/DRAM case where the CPU reads
&gt; 8KiB.  However, to be comparable in speed to the CPU case, the ASICs need a
&gt; routing network capable of 8192*10GiB/s ==&gt; 8192*10GiB/s out.  The total
&gt; bandwidth of this random-routing network is over 80 TiB/s.  The challenge
&gt; is to design the router so that it does not dominate the cost.
&gt;
&gt; No, why having separate ASIC for each i1? Instead let each ASIC select its
&gt; nonce, calculate i1,i2 and run two yescrypts afterwards. Then there almost
&gt; no communication between them, so 8192 guys can do even more per second,
&gt; 2^25 as I calculated
&gt;
&gt;
Hi Dmitry.  Is your point that this algorithm is not memory-hard because
you can speed it up with parallel processing without increasing memory
usage?  If so, I agree.

I also agree that 8192 advanced custom ASICs with 4 MiB of on-chip memory
could do 2^25 hashes per second in total.  At the same time, a single CPU
with 32 GiB of vanilla DRAM should do 2^22 hahes per second.  The 8192
ASICs together are 8X faster than a single CPU, and the total memory was
not increased at all.  This algorithm is clearly not memory-hard.  If total
bits of memory correlated closely with cost, then the ASIC solution would
win.

Do you agree that the 8192 parallel ASICs with 4 MiB of on-chip RAM each
would be more expensive than a mid-range desktop PC with 32 GiB of DRAM?
Both systems have the same total RAM, but my desktop PC is $700 in quantity
1, meaning each ASIC (including it's portion of the board, power supply,
etc) is &lt; $1.  In reality it must be cheaper, since the competition would
be CPU-farms, with maybe half the cost of a desktop PC.  It seems obvious
to me that the desktop PC solution will be far cheaper, and lower power,
than an 8192-ASIC system.  However, I think we have disagreed before over
what real ASICs cost.

Thanks for looking at it.  I do appreciate it.
Bill

<span style="font-family: times;"><strong>Content of type "</strong>text/html<strong>" skipped</strong></span>
</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
