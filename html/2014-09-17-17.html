<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
body { font-size: 16px; }
.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>

<title>phc-discussions - Re: [PHC] omegacrypt and timing</title>


</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">



<TABLE bgcolor="white" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD width="39%">
<A HREF="http://lists.openwall.net">lists.openwall.net</A>
<TD width="1%" rowspan="3">&nbsp;
<TD width="60%" align="right" rowspan="3">
<A HREF="/">lists</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/announce/">announce</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-users/">owl-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/owl-dev/">owl-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-users/">john-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/john-dev/">john-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwdqc-users/">passwdqc-users</A>&nbsp;
<A HREF="http://www.openwall.com/lists/yescrypt/">yescrypt</A>&nbsp;
<A HREF="http://www.openwall.com/lists/popa3d-users/">popa3d-users</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/oss-security/">oss-security</A>&nbsp;
<A HREF="http://www.openwall.com/lists/kernel-hardening/">kernel-hardening</A>&nbsp;
<A HREF="http://www.openwall.com/lists/musl/">musl</A>&nbsp;
<A HREF="http://www.openwall.com/lists/sabotage/">sabotage</A>&nbsp;
<A HREF="http://www.openwall.com/lists/tlsify/">tlsify</A>&nbsp;
<A HREF="http://www.openwall.com/lists/passwords/">passwords</A>&nbsp;
/&nbsp;
<A HREF="http://www.openwall.com/lists/crypt-dev/">crypt-dev</A>&nbsp;
<A HREF="http://www.openwall.com/lists/xvendor/">xvendor</A>&nbsp;
/&nbsp;
<A HREF="/bugtraq/">Bugtraq</A>&nbsp;
<A HREF="/full-disclosure/">Full-Disclosure</A>&nbsp;
<A HREF="/linux-kernel/">linux-kernel</A>&nbsp;
linux-<A HREF="/netdev/">netdev</A>&nbsp;
<A HREF="/linux-ext4/">linux-ext4</A>&nbsp;
<a href="/linux-hardening/">linux-hardening</a>&nbsp;
<a href="/linux-cve-announce/">linux-cve-announce</a>&nbsp;
<a href="/phc-discussions/">PHC</a>&nbsp;
<TR><TD>
<DIV><FONT SIZE="-2"><I>Open Source and information security mailing list archives</I></FONT></DIV>
<TR><TD>&nbsp;
</TABLE>

<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">

<a href="https://hashsuite.openwall.net/android">
Hash Suite for Android: free password hash cracker in your pocket</a>


</TABLE>
</TABLE>


<a href="16">[&lt;prev]</a> <a href="18">[next&gt;]</a> <a href="16">[&lt;thread-prev]</a> <a href="18">[thread-next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;670571192.470970.1410977256690.open-xchange&#64;oxuslxltgw10.lxa.perfora.net&gt;
Date: Wed, 17 Sep 2014 13:07:36 -0500 (CDT)
From: Steve Thomas &lt;steve&#64;...tu.com&gt;
To: discussions&#64;...sword-hashing.net
Subject: Re: [PHC] omegacrypt and timing

&gt; On September 17, 2014 at 12:12 PM Bill Cox &lt;waywardgeek&#64;...hershed.org&gt; wrote:
&gt;
&gt; On 09/17/2014 12:36 PM, Steve Thomas wrote:
&gt; &gt;
&gt; &gt; P.S. Schvrch is not in this category. As it is not an actual
&gt; &gt; branch. In x86 SIMD you do a compare then xor (compare sets it to
&gt; &gt; all 1s or all 0s). With GPUs, they would set a conditional variable
&gt; &gt; (compare) then conditionally run bitwise invert (one instruction).
&gt; &gt; Note that a branch in x86 takes two instructions compare and
&gt; &gt; conditional jump. Both SIMD and GPUs use two instructions with
&gt; &gt; neither being a jump.
&gt; &gt;
&gt;
&gt; The current implementation is not in this category, but clearly the
&gt; author intended it to be. He describes branching as cyclomatic
&gt; complexity in the attached paper. I suspect we'll see something more
&gt; like the others in the next revision.
&gt;

I don't think a change like that would be considered a tweak, but I guess we'll
see what actually changes.


&gt; I think having very many cases might provide good defense. I just
&gt; auto-generated over 13,000 hashing functions that do an
&gt; AND/OR/ADD/SUB-XOR-ROTATE. The problem I see is that each looks very
&gt; similar. I choose two "mixing" operators which are permutations and
&gt; reversible, and a non-linear operation.
&gt;
&gt; However, a GPU could attack my 13,000 functions is a simple manner.
&gt; They could write a single function that computes which operator is
&gt; used in each place, and then execute the small case statements when
&gt; they are used. I think this could dramatically reduce the 13,000X
&gt; factor I was hoping for.
&gt;
&gt; There are only maybe 30 different instructions that need to be
&gt; executed, at least if the shift distance is computed rather than
&gt; embedded in the op-code. I don't see what would stop a GPU from
&gt; taking maybe a 100X speed hit to "interpret" 13,000 different small
&gt; functions in parallel.
&gt;
&gt; Still, if we could put the hurt on GPUs by 10-100X, that's worthwhile.
&gt;

The most you'll need to do is like 128 functions (slowdown of 1/50.5164, it can
only get 26.69% slower) and with 3,161 functions (slowdown of 1/63.3664, it can
only get 1.000% slower]). This is because threads are run in a block (8, 16, 32,
64 threads depending on the GPU) if each thread is doing something different
then the max slowdown is 8, 16, 32, 64 depending on the GPU. There might be
different thread block sizes and in the future it might increase, but 13,000 is
excessive. There won't be much of a slow do between 128 and 1024 (1.2287x) or
1024 and 13,000 (1.0286x). Also you might want to do a prime number of functions
so you can't just mask, but this might slowdown the defender more than the
attacker because most defenders won't implement integer divide with floating
points.

You can use this formula x = f * (1 - (1 - 1 / f) ^ 64) where f is number of
functions and x is the average cost factor increase for 64 threads/block.

P.S. When I say block I mean thread wrap or whatever.
</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>




</body>
</html>
